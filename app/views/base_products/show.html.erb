
<!-- ————————————————————————————————————————————————————————————————
		Controller: base_products
		Action: show 
		
		Presupposes an instance variable @base_product that has been 
		set up by the controller/action. Also the leaf-level category of
		this product in the instance variable @category. 
		
		Shows the image and description associated
		with this base product. Then iterates through all of the specific products 
		(choice of <size> and <color> the base product is offered in. 
		TruMedical did not use Netsuite's 'matrix products' to model this, instead
		modeling each specific product as a Netsuite item.  
————————————————————————————————————————————————————————————————————— -->

<%= content_for(:header) do %>

	<title>TruMedical Solutions | Products </title> 
	
	<!-- Reenable this once have the basic display of product fields working  									
	<%# javascript_include_tag "galleria-1.2.4.min.js" %>
	<%# javascript_include_tag "zoom_and_mega_zoom.js" %>
-->

	<script type="text/javascript" >

		$(document).ready(function() {	
				$("#body-background").ezBgResize();
				$("#body-background").css("background-color","#E6E6E6");				
				checkSize();
			
			});
		
	</script>

	<style type="text/css">
		div#product_image_description { margin-top:20px; padding-left:40px;}
		div#products { margin-top:10px; padding-left:40px;}
		div#title { color:orange; font-size:14px; font-weight:bold;}
		#products table { margin-bottom:30px; }
		/* How does this work? *
		#products td.price:before {
		    clip: rect(0px, 190px, 20px, 0px);
		    content: " ............................................................ ";
		    position: absolute;
		    z-index: -1;
			}
			*/
		#products td.price {text-align: right;}
		#addToCart, #checkOut {
			background-color:orange; 
			color:white; 
			font-size:12px; 
			padding-top:6px; padding-bottom:6px; 
			border:none;
			}

	</style>



<% end %>


<%= content_for(:body) do %>

	<div id="body-background">	
		<!-- <img src="../images/landscapes/road_aero.jpg" width="1354" height="900" alt="Bg"> -->
	</div>
    
	<!-- container —————————————————————————————————————————————————————————————————— -->

	<div id="container">
		<div id="black_screen"></div> <!-- used here?  drop from category#display also? -->

	  <!-- subcontainer —————————————————————————————————————————————————————— -->

		<div id="subcontainer">
		
			<!-- menu —————————————————————————————————————————————————————  -->
		
			<%= render :partial => 'shared/menu' %>
			<%= render :partial => 'shared/search' %>

	    <!-- main content —————————————————————————————————————————————— -->

			<div id="main_content">
				
				<!-- breadcrumb trail ———————————————————————————————————————————————————— -->
				<div id="breadcrumb">
					<!-- generate this: use acts_as_tree().reverse as in RailsCast 262 -->
					<div style="float:left">
						<b><%= link_to("Home Page",{ :controller => 'home',:action =>'index'} ) %></b><span>&nbsp;&nbsp;>&nbsp;&nbsp;</span>
							<!-- <a href="/home/index">Home Page</a></b>&nbsp;&nbsp;&gt;&nbsp;&nbsp; -->
					</div>
					<div style="float:left">
						<b><a href="#url"><%= @category.parent.parent.name %></a></b>&nbsp;&nbsp;&gt;&nbsp;&nbsp;
					</div>
					<div style="float:left">
						<b><a href="#url"><%= @category.parent.name %></a></b>&nbsp;&nbsp;&gt;&nbsp;&nbsp;
					</div>
					<div style="float:left">
						<b><a href="#url"><%= @category.name %></a></b>&nbsp;&nbsp;&gt;&nbsp;&nbsp;
					</div>
					<div style="float:left">
						<b><a href="#url"><%= sanitize(@base_product.name) %></a></b>
					</div>
				</div>
			
				<div id="error-messages" style="display:none">
					<div class="messages error"></div>
				</div>

	      <!-- base product ———————————————————————————————————————————————————————————— -->

				<div id="product_image_description">
					
					<%= image_tag("/images/products/all_medium/" + @base_product.image_filename[0,6] + "-000" + ".jpg") %>
					<div id="title">
						<%= raw(@base_product.name) %>
					</div>
					
					<div id="description">
						<%= raw(@base_product.long_description) %>
					</div>
					
				</div> 

				<!-- base product offered in:   ——————————————————————— -->
				
				<div id="products">
		
					<table cellspacing="10">
						<col/>
						<col align="left" width="250px"/>
						<col align="right"/>
						<col align="left"/>
						<th align="left">Part No</th>
						<th align="left">Name</th>
						<th align="right">Price</th>
						<th align="left">Qty</th>
						
					<% @base_product.products.each do |p| %>
						<tr>
							<td><%= p.tms_part_no %></td>
							<td><%= p.description %></td>
							<td class="price"><%= number_to_currency(p.price_clinic_list) %></td>
							<td style="padding-top:0px;"><input class="ui-corner-all" id="qty_<%= p.netsuite_item_no %>" style="width:30px;" type="text"></td>
						</tr>
					<% end %>	

						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td><button id="addToCart" class="ui-corner-all">ADD TO CART</button></td>

						</tr>
						
						<tr>
							<td>
								<button id="checkOut" class="ui-corner-all">
									<a href="https://checkout.netsuite.com/s.nl?c=3352985&sc=4&n=1" style="color:white; text-decoration:none">CHECK OUT</a>
								</button>
							</td>
							<td></td>
							<td></td>
						</tr>
			
					</table>
				
				</div> <!-- end div#products -->

			</div> <!-- end div#main_content -->

		</div><!-- end div#subcontainer -->


		<!-- RIGHT CONTENT ————————————————————————————————————————————————————— -->

		<div id="right_content_container">
	    <%= render(:partial => 'shared/rightContent') %>	       
		</div>

		<div id="forScrollTop" class="clear"></div>  <!-- debug: purpose?? -->

	</div><!-- end div#container -->


	<!-- logo_container ——————————————————————————————————————————————————————————————— -->

	<div id="logo_container">
		<a href="/en" id="logo" title="home page" name="logo">home page</a>
	</div>

<% end %>